<!-- All material contained herein is copyright (c) McGraw-Hill Professional Books
All Rights Reserved. No use of this material may be made without express written
permission of the copyright holder. HTML conversions by Mega Space [barry@megaspace.com] -->

<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<TITLE>Understanding Digital Signatures: Inside the Java Virtual Machine
 by Bill Venners - Beta Version</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<TABLE BORDER="0" WIDTH="100%">
<TR><TD><A HREF="http://www.pbg.mcgraw-hill.com/betabooks/stores.html" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/stores.html" target="bottom"><IMG SRC="hotkey.gif" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/images/hotkey.gif" ALIGN="LEFT" BORDER="0" WIDTH="40" HEIGHT="40" ALT="Orders"></A>
<IMG SRC="order_text.gif" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/images/order_text.gif" WIDTH="103" HEIGHT="41" ALT="Orders"></TD>
<TD ALIGN="RIGHT"><A HREF="preface.html" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/venners/preface.html"><IMG SRC="backward.gif" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/images/backward.gif" BORDER="0" ALT="Backward" WIDTH="32" HEIGHT="32"></A>&nbsp;<A HREF="chap01.html" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/venners/chap01.html"><IMG SRC="forward.gif" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/images/forward.gif" BORDER="0" ALT="Forward" WIDTH="32" HEIGHT="32"></A></TD></TR>
<TR><TD COLSPAN="2"><A HREF="mailto:computing@mcgraw-hill.com"><IMG SRC="hotkey.gif" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/images/hotkey.gif" ALIGN="LEFT" BORDER="0" WIDTH="40" HEIGHT="40" ALT="Comments"></A>
<IMG SRC="comment_text.gif" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/images/comment_text.gif" WIDTH="73" HEIGHT="39" ALT="Comments"></TD></TR>

<TR><TD COLSPAN="2"><FONT FACE="ARIEL,HELVETICA" SIZE="-1"><I>&copy; 1997 The McGraw-Hill Companies, Inc.  All rights reserved.  <BR>Any use of this Beta Book is subject to the rules stated in the <A HREF="http://www.mcgraw-hill.com/corporate/news_info/copyrttm.htm" tppabs="http://www.mcgraw-hill.com/corporate/news_info/copyrttm.htm" target="_top">Terms of Use</A>.</I></FONT></TD></TR>

</TABLE>
<HR>
<P><H1>Introduction</H1></P>
<P>This book describes the Java Virtual Machine, the abstract computer on which all Java programs run. Through a combination of tutorial explanations, working examples, reference material, and applets that interactively illustrate the concepts presented in the text, this book provides an in-depth, technical survey of Java as a technology.</P>
<P>The Java programming language seems poised to be the next popular language for mainstream commercial software development, the next step after C and C++. One of the fundamental reasons Java is a likely candidate for this role is that Javaís architecture helps programmers deal with emerging hardware realities. Java has features that the shifting hardware environment is demanding, features that are made possible by the Java Virtual Machine.</P>
<P>The evolution of programming languages has to a great extent been driven by changes in the hardware being programmed. As hardware has grown faster, cheaper, and more powerful, software has become larger and more complex. The migration from assembly languages to procedural languages, such as C, and to object oriented languages, such as C++, was largely driven by a need to manage ever greater complexity--complexity made possible by increasingly powerful hardware.</P>
<P>Today the progression towards cheaper, faster, and more powerful hardware continues, as does the need for managing increasing software complexity. Building on C and C++, Java helps programmers deal with complexity by rendering impossible certain kinds of bugs that frequently plague C and C++ programmers. Javaís inherent memory safety--garbage collection, lack of pointer arithmetic, run-time checks on the use of references--prevents most memory bugs from ever occurring. Javaís memory safety makes programmers more productive and helps them manage complexity.</P>
<P>In addition, besides the ongoing increase in the capabilities of hardware, there is another fundamental shift taking place in the hardware environment--the network. As networks interconnect more and more computers and devices, new demands are being made on software. With the rise of the network, platform independence and security have become much more important than they were in the past.</P>
<P>The Java Virtual Machine is responsible for the memory safety, platform neutrality, and security features of the Java programming language. Although virtual machines have been around for a long time, prior to Java they hadnít quite entered the mainstream. But given todayís emerging hardware realities, software developers needed a programming language with a virtual machine, and Sun hit the market window with Java.</P>
<P>Thus, the Java Virtual Machine embodies the right software &quot;stuff&quot; for the coming years of computing. This book will help you get to know this virtual machine, and armed with this knowledge, youíll know how best to put the Java Virtual Machine to use in your programs.</P>
<H3><EM><P>Who Should Read the Book</P>
</EM></H3><P>This book is aimed primarily at professional software developers and students who want to understand Java technology. I assume you are familiar, though not necessarily proficient, with the Java language. Reading this book should help you add a depth to your knowledge of Java programming. If you are one of the elite few who are actually writing Java compilers or creating implementations of the Java Virtual Machine, this book can serve as a companion to the Java Virtual Machine specification. Where the specification specifies, this book explains.</P>
<H3><EM><P>How to Use the Book</P>
</EM></H3><P>This book has five basic parts:</P>
<OL><LI>An introduction to Javaís architecture (Chapters 1 through 4)</P>
<LI>An in-depth, technical tutorial of Java internals (Chapters 5 through 20)</P>
<LI>A class file and instruction set reference (Chapter 6, Appendices A through C)</P>
<LI>Interactive illustrations, example source code, and the JDK (On the CD-ROM)</P>
<LI>The Resources Web Site (<FONT FACE="Courier New">http://www.artima.com/insidejvm</FONT>)</OL>
<H3><P>An Introduction to Javaís Architecture</P>
</H3><P>Chapters 1 through 4 (Part I of this book) give an overview of Javaís architecture, including the motivations behind--and the implications of--Javaís architectural design. These chapters show how the Java Virtual Machine relates to the other components of Javaís architecture: the class file, API, and language. If you want a basic understanding of Java as a technology, consult these chapters. Here are some specific points of interest from this portion of the book:</P>
<UL><LI> For an overview of Javaís architecture and a discussion of its inherent tradeoffs, see Chapter 1, &quot;Introduction to Javaís Architecture.&quot;
<LI> For a discussion of what &quot;platform independence&quot; really means, how Javaís architecture supports it, and seven steps to take to create a platform independent Java program, see Chapter 2, &quot;Platform Independence.&quot;
<LI> For a description of the security model built into Javaís core architecture, including a tutorial explaining how to write a security-minded class loader, see Chapter 3, &quot;Security.&quot;
<LI> For a discussion of the new paradigm of network-mobile software, see Chapter 4, &quot;Network Mobility.&quot;</UL>
<H3><P>A Tutorial of Java Internals</P>
</H3><P>Chapters 5 through 20 (Part II of this book) give an in-depth technical description of the inner workings of the Java Virtual Machine. These chapters will help you understand how Java programs actually work. All the material in Part II is presented in a tutorial manner, with lots of examples. Here are some specific points of interest from this portion of the book:</P>
<UL><LI> For a comprehensive overview of the inner workings of the Java Virtual Machine, see Chapter 5, &quot;The Java Virtual Machine.&quot;
<LI> If you are parsing, generating, or simply peering into Java class files, see Chapter 6, &quot;The Java Class File,&quot; for a complete tutorial and reference on the class file format.
<LI> For a discussion of the lifetime of a class inside the Java Virtual Machine, including the circumstances in which classes can be unloaded, see Chapter 7, &quot;The Lifetime of a Class.&quot;
<LI> For a thorough explanation of Javaís linking model, including a tutorial and examples on writing your own class loaders, see Chapter 8, &quot;The Linking Model.&quot;
<LI> For a discussion of garbage collection and finalization, and suggestions on how to use finalizers, see Chapter 9, &quot;Garbage Collection.&quot;
<LI> For a tutorial on the Java Virtual Machineís instruction set, read Chapters 10 through 20.
<LI> For an explanation of monitors and how you can use them to write thread-safe Java code, see Chapter 20, &quot;Thread Synchronization.&quot;</UL>
<H3><P>A Class File and Instruction Set Reference</P>
</H3><P>In addition to being a tutorial on the Java class file, Chapter 6, &quot;The Java Class File,&quot; serves as a complete reference of the class file format. Similarly, Chapters 10 through 20 form a tutorial of the Java Virtual Machineís instruction set, and Appendices A through C serve as a complete reference of the instruction set. If you need to look something up, check out these chapters and the appendices.</P>
<H3><P>Interactive Illustrations, Example Source Code, and the JDK</P>
</H3><P>For most of this bookís chapters, material associated with the chapter--such as example code or simulation applets--appears on the CD-ROM.</P>
<P>The <FONT FACE="Courier New">applets</FONT> directory of the CD-ROM contains a mini-website that includes 14 Java applets that illustrate the concepts presented in the text. These &quot;interactive illustrations&quot; form an integral part of this book. Ten of the applets simulate the Java Virtual Machine executing bytecodes. The other applets illustrate garbage collection, twoís-complement and IEEE 754 floating point numbers, and the loading of class files. The applets can be viewed on any platform by any Java-capable browser. The source code for the simulation applets is also included on the CD-ROM.</P>
<P>The copyright notice accompanying the HTML, .java, and .class files for the mini-website enables you to post the mini-website on any network, including the internet, providing you adhere to a few simple rules. For example, you must post the mini-website in its entirety, you canít make any changes to it, and you canít charge people to look at it. The full text of the copyright notice is given later in this introduction.</P>
<P>All the example source code shown in this book appears on the CD-ROM in both source and compiled (class files) form. If some example code in the text strikes you as interesting (or dubious), you can try it out for yourself.</P>
<P>Most of the example code is illustrative and not likely to be of much practical use besides helping you to understand Java. Nevertheless, you are free to cut and paste from the example code, use it in your own programs, and distribute it in binary (such as Java class file) form. The full text of the copyright notice for the example source code is shown later in this introduction.</P>
<P>Besides the interactive illustrations and example source code, the CD-ROM contains one last item: a full distribution of version 1.1.3 of Sunís JDK. This is contained in the CD-ROMís <FONT FACE="Courier New">jdk</FONT> directory. </P>
<H3><P>The Resources Web Site</P>
</H3><P>To help you find more information and keep abreast of changes, I maintain a &quot;Resources Web Site&quot; with links to further reading about the material presented in this book. There is at least one &quot;resources page&quot; for each chapter in the book. The main URL of the Resources Web Site is <FONT FACE="Courier New">http://www.artima.com/insidejvm</FONT>. The URL for each chapterís individual resources page is given at the end of each chapter in the &quot;The Resources Page&quot; section.</P>
<P><H2><EM>Chapter by Chapter Summary</EM></H2></P>
<P><H2>Part One: Javaís Architecture</H2></P>
<P><H3>Chapter 1. Introduction to Javaís Architecture</H3></P>
<P>This chapter gives an introduction to Java as a technology. It gives an overview of Javaís architecture, discusses why Java is important, and looks at Javaís pros and cons.</P>
<P><H3>Chapter 2. Platform independence</H3></P>
<P>This chapter shows how Javaís architecture enables programs to run on any platform, discusses the factors that determine the true portability of Java programs, and looks at the relevant tradeoffs.</P>
<P><H3>Chapter 3. Security</H3></P>
<P>This chapter gives an overview of the security model built into Javaís core architecture.</P>
<P><H3>Chapter 4. Network-mobility</H3></P>
<P>This chapter examines the new paradigm of network-mobile software heralded by the arrival of Java, and shows how Javaís architecture makes it possible.</P>
<P><H2>Part Two: Java Internals</H2></P>
<P><H3>Chapter 5. The Java Virtual Machine</H3></P>
<P>This chapter gives a detailed overview of the Java Virtual Machineís internal architecture. Accompanying the chapter on the CD-ROM is an applet, named Eternal Math, that simulates the Java Virtual Machine executing a short sequence of bytecodes.</P>
<P><H3>Chapter 6. The Java Class File</H3></P>
<P>This chapter describes the contents of the class file, including the structure and format of the constant pool, and serves as both a tutorial and a complete reference of the Java class file format. Accompanying the chapter on the CD-ROM is an applet, named Getting Loaded, that simulates the Java Virtual Machine loading a Java class file.</P>
<P><H3>Chapter 7. The Lifetime of a Class</H3></P>
<P>This chapter follows the lifetime of a type (class or interface) from the typeís initial entrance into the virtual machine to its ultimate exit. It discusses the processes of loading, linking, and initialization; object instantiation, garbage collection, and finalization; and type finalization and unloading.</P>
<P><H3>Chapter 8. The Linking Model</H3></P>
<P>This chapter takes an in-depth look at Javaís linking model. It describes constant pool resolution and shows how to write class loaders to enable a Java application to dynamically extend itself at run-time.</P>
<P><H3>Chapter 9. Garbage Collection</H3></P>
<P>This chapter describes various garbage collection techniques and explains how garbage collection works in Java Virtual Machines. Accompanying this chapter on the CD-ROM is an applet, named Heap of Fish, that simulates a compacting, mark-and-sweep garbage-collected heap.</P>
<P><H3>Chapter 10. Stack and Local Variable Operations</H3></P>
<P>This chapter describes the Java Virtual Machine instructions that focus most exclusively on the operand stack--those that push constants onto the operand stack, perform generic stack operations, and transfer values back and forth between the operand stack and local variables. Accompanying this chapter on the CD-ROM is an applet, named Fibonacci Forever, that simulates the Java Virtual Machine executing a method that generates the Fibonacci sequence.</P>
<P><H3>Chapter 11. Type Conversion</H3></P>
<P>This chapter describes the instructions that convert values from one primitive type to another. Accompanying the chapter on the CD-ROM is an applet, named Conversion Diversion, that simulates the Java Virtual Machine executing a method that performs type conversion.</P>
<P><H3>Chapter 12. Integer Arithmetic</H3></P>
<P>This chapter describes integer arithmetic in the Java Virtual Machine. It explains twoís complement arithmetic and describes the instructions that perform integer arithmetic. Accompanying this chapter on the CD-ROM are two applets that interactively illustrate the material presented in the chapter. One applet, named Inner Int, allows you to view and manipulate a twoís complement number. The other applet, named Prime Time, simulates the Java Virtual Machine executing a method that generates prime numbers.</P>
<P><H3>Chapter 13. Logic</H3></P>
<P>This chapter describes the instructions that perform bitwise logical operations inside the Java Virtual Machine. These instructions include opcodes to perform shifting and boolean operations on integers. Accompanying this chapter on the CD-ROM is an applet, named Logical Results, that simulates the Java Virtual Machine executing a method that includes uses several of the logic opcodes.</P>
<P><H3>Chapter 14. Floating Point Arithmetic</H3></P>
<P>This chapter describes the floating point numbers and the instructions that perform floating point arithmetic inside the Java Virtual Machine. Accompanying this chapter on the CD-ROM are two applets that interactively illustrate the material presented in the chapter. One applet, named Inner Float, allows you to view and manipulate the individual components that make up a floating point number. The other applet, named Circle of Squares, simulates the Java Virtual Machine executing a method that uses several of the floating point opcodes.</P>
<P><H3>Chapter 15. Objects and Arrays</H3></P>
<P>This chapter describes the Java Virtual Machine instructions that create and manipulate objects and arrays. Accompanying this chapter on the CD-ROM is an applet, named Three-Dimensional Array, that simulates the Java Virtual Machine executing a method that allocates and initializes a three-dimensional array.</P>
<P><H3>Chapter 16. Control Flow</H3></P>
<P>This chapter describes the instructions that cause the Java Virtual Machine to conditionally or unconditionally branch to a different location within the same method. Accompanying this chapter on the CD-ROM is an applet, named Saying Tomato, that simulates the Java Virtual Machine executing a method that includes bytecodes that perform table jumps (the compiled version of a Java <FONT FACE="Courier New">switch</FONT> statement).</P>
<P><H3>Chapter 17. Exceptions</H3></P>
<P>This chapter shows how exceptions are implemented in bytecodes. It describes the instruction for throwing an exception explicitly, explains exception tables, and shows how catch clauses work. Accompanying this chapter on the CD-ROM is an applet, named Play Ball!, that simulates the Java Virtual Machine executing a method that throws and catches exceptions.</P>
<P><H3>Chapter 18. Finally Clauses</H3></P>
<P>This chapter shows how finally clauses are implemented in bytecodes. It describes the relevant instructions and gives examples of their use. The chapter also describes some surprising behaviors exhibited by finally clauses in Java source code and explains this behavior at the bytecode level. Accompanying this chapter on the CD-ROM is an applet, named Hop Around, that simulates the Java Virtual Machine executing a method that includes finally clauses.</P>
<P><H3>Chapter 19. Method Invocation and Return</H3></P>
<P>This chapter describes the four instructions that the Java Virtual Machine uses to invoke methods and the situations in which each instruction is used.</P>
<P><H3>Chapter 20. Thread Synchronization</H3></P>
<P>This chapter describes monitors--the mechanism that Java uses to support synchronization--and shows how they are used by the Java Virtual Machine. It shows how one aspect of monitors, the locking and unlocking of data, is supported in the instruction set.</P>
<P><H2>The Appendices</H2></P>
<P><H3>Appendix A. Instruction Set by Opcode Mnemonic</H3></P>
<P>This appendix lists the opcodes alphabetically by mnemonic. For each opcode, it gives the mnemnonic, opcode byte value, instruction format (the operands, if any), a snapshot image of the stack before and after the instruction is executed, and a description of the execution of the instruction. Appendix A serves as the primary instruction set reference of the book.</P>
<P><H3>Appendix B. Opcode Mnemonic by Functional Group</H3></P>
<P>This appendix organizes the instructions by functional group. The organization used in this appendix corresponds to the order the instructions are described in Chapters 10 through 20.</P>
<P><H3>Appendix C. Opcode Mnemonic by Opcode</H3></P>
<P>This appendix organizes the opcodes in numerical order. For each numerical value, this appendix gives the mnemonic.</P></BODY>
<TABLE BORDER="0" WIDTH="100%">
<TR><TD><A HREF="http://www.pbg.mcgraw-hill.com/betabooks/stores.html" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/stores.html" target="bottom"><IMG SRC="hotkey.gif" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/images/hotkey.gif" ALIGN="LEFT" BORDER="0" WIDTH="40" HEIGHT="40" ALT="Orders"></A>
<IMG SRC="order_text.gif" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/images/order_text.gif" WIDTH="103" HEIGHT="41" ALT="Orders"></TD>
<TD ALIGN="RIGHT"><A HREF="preface.html" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/venners/preface.html"><IMG SRC="backward.gif" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/images/backward.gif" BORDER="0" ALT="Backward" WIDTH="32" HEIGHT="32"></A>&nbsp;<A HREF="chap01.html" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/venners/chap01.html"><IMG SRC="forward.gif" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/images/forward.gif" BORDER="0" ALT="Forward" WIDTH="32" HEIGHT="32"></A></TD></TR>
<TR><TD COLSPAN="2"><A HREF="mailto:computing@mcgraw-hill.com"><IMG SRC="hotkey.gif" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/images/hotkey.gif" ALIGN="LEFT" BORDER="0" WIDTH="40" HEIGHT="40" ALT="Comments"></A>
<IMG SRC="comment_text.gif" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/images/comment_text.gif" WIDTH="73" HEIGHT="39" ALT="Comments"></TD></TR>

</TABLE>
<HR>
<P ALIGN=CENTER>&nbsp;<A HREF="http://www.pbg.mcgraw-hill.com/computing/computing-home.html" tppabs="http://www.pbg.mcgraw-hill.com/computing/computing-home.html" TARGET="_top">COMPUTING
MCGRAW-HILL</A> | <A HREF="http://www.pbg.mcgraw-hill.com/betabooks/betabooks-home.html" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/betabooks-home.html" TARGET="_top">Beta Books</A>
| <A HREF="http://www.pbg.mcgraw-hill.com/computing/contact.html" tppabs="http://www.pbg.mcgraw-hill.com/computing/contact.html" TARGET="_top">Contact Us</A>
| <A HREF="http://www.pbg.mcgraw-hill.com/betabooks/stores.html" tppabs="http://www.pbg.mcgraw-hill.com/betabooks/stores.html" TARGET="_top">Order Information</A>
| <A HREF="http://mcgraw-hill.inforonics.com/compsearch.shtml" tppabs="http://mcgraw-hill.inforonics.com/compsearch.shtml" TARGET="_top">Online Catalog</A></P>

<P ALIGN=CENTER><FONT SIZE="-1"><A HREF="http://www.pbg.mcgraw-hill.com/computing/computing-home.html" tppabs="http://www.pbg.mcgraw-hill.com/computing/computing-home.html" TARGET="_top">Computing McGraw-Hill</A> is an imprint of the <A HREF="http://www.pbg.mcgraw-hill.com/pbg-home.html" tppabs="http://www.pbg.mcgraw-hill.com/pbg-home.html" TARGET="_top">McGraw-Hill Professional Book Group</A>.</FONT></P>

<!-- begin footer -->
<HR>
<A HREF="http://www.mcgraw-hill.com/" tppabs="http://www.mcgraw-hill.com/" TARGET="_top"><IMG SRC="division-white.gif" tppabs="http://www.pbg.mcgraw-hill.com/images/division-white.gif" WIDTH="350" HEIGHT="44" ALT="A Division of the McGraw-Hill Companies" BORDER="0"></A><BR>
<FONT SIZE="-2">Copyright &copy; 1997 <A HREF="http://www.mcgraw-hill.com/" tppabs="http://www.mcgraw-hill.com/" TARGET="_top">
The McGraw-Hill Companies</A>. All rights reserved. Any use is subject to the 
<A HREF="http://www.mcgraw-hill.com/corporate/news_info/copyrttm.htm" tppabs="http://www.mcgraw-hill.com/corporate/news_info/copyrttm.htm" TARGET="_top">
Terms of Use</A>; the corporation also has a comprehensive <A HREF="http://www.mcgraw-hill.com/corporate/news_info/privacy.html" tppabs="http://www.mcgraw-hill.com/corporate/news_info/privacy.html" TARGET="_top">
Privacy Policy</A> governing information we may collect from our customers.</FONT>
<!-- end footer -->
</BODY>
</HTML>
